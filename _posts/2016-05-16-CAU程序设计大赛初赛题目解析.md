---
layout: post
title:  "CAU程序设计大赛初赛题目解析"
date:   2016-05-15 11:14:54
categories: C
tags: C
---

#### 前言：

​	1.虽说是程序设计大赛，但是题目还是很简单的类型，加上很久没碰C语言，前几天晚上就花了两三个小时做了做。写一篇解析给不明白的同学做做参考。

​	2.提供的解答全部通过测试。顺便吐槽一下，我们学校的测试系统有点水，有些把函数写在外面就不给通过。

​	3.练习那几道就不贴了，其中球体那道题目没说明白，给的是直径，认为是半径的就错了。



#### 1.回文素数

​	这个题目就是要筛选出两个特性的数字：回文+素数（1000以内，0-999）

- 回文的筛选（for循环+if语句）：
  - 首先10以内的肯定不是，直接忽略
  - 10-99的，可以用i/10==i%10，来筛选。即个位是十位相等。
  - 100-999的，i/100==(i%100)%10。注意，此时等号右边用i%100只能变成i的个位和十位，还要将其%10才能变成个位

- 素数的筛选：

  - 素数的概念：除了1和本身，不能被其他数整除
  - 要点是在上面的循环中再建立一个循环，实现对所有小于其本身的，大于2的数进行遍历
  - 建立一个变量key,如果发现循环中有小于其本身的数可以对其整除，则将变量key变为0。在下面的输出判断里面加入&&key即可。

  代码：

  ```c
  #include "stdio.h"

  int main()
  {
      int i,j,key;
      for(i=11;i<=99;i = i+1)
      {
          key = 1;
          for(j=2;j<i&&key;j++)
          {
              if((i%j)==0)
              {
                  key=0;
              }
          }
          if(i/10==i%10&&key)
          {printf("%d",i);printf(" ");}
      }

      for(i=101;i<=999;i = i+1)
      {
          key = 1;
          for(j=2;j<i&&key;j++)
          {
              if((i%j)==0)
              {
                  key=0;
              }
          }
          if(i/100==(i%100)%10&&key)
          {printf("%d",i);printf(" ");}
      }
      return 0;
  }
  ```


#### 2.日期的前一天

​	这个题目其实就是对三个情况的判断：前一天跨月份，前一天跨年，月中的前一天

- 构造闰年判断：

  - 加入一个判断函数，如果是闰年返回1，不是返回0.

    ```c
    int IsPrime(int year)
    {
        if((year%4==0&&year%100!=0)||year%400==0)
        {
            return 1;
        }
        else
        {
            return 0;
        }
    }
    ```

  - 加入闰年和非闰年的数组

    ```c
    static int PrimeMonth[12]={31,29,31,30,31,30,31,31,30,31,30,31};
    static int NotPrimeMonth[12]={31,28,31,30,31,30,31,31,30,31,30,31};
    ```

- 月中的一天：天数减一即可

- 前一天跨月：1.判断闰年和非闰年2.月份减一，日期变成月份数组里面的前一个。

- 前一天跨年：1.判断闰年和非闰年2.月份变为12，日期变成月份数组的最后一个。

  - 前一天跨年的特殊情况，如果从非闰年跨到闰年，还需再进行一次年份判断

    ```c
     // Change array_month
        if(IsPrime(year))
        {
            for(int i=0;i<12;i++)
            {
                array_month[i] = PrimeMonth[i];
            }
        }
        else
        {
            for(int i=0;i<12;i++)
            {
                array_month[i] = NotPrimeMonth[i];
            }
        }
    ```

代码：

```c
#include "stdio.h"

static int PrimeMonth[12]={31,29,31,30,31,30,31,31,30,31,30,31};
static int NotPrimeMonth[12]={31,28,31,30,31,30,31,31,30,31,30,31};

int IsPrime(int year)
{
    if((year%4==0&&year%100!=0)||year%400==0)
    {
        return 1;
    }
    else
    {
        return 0;
    }
}


int main()
{   int year,month,day,array_month[12];
    scanf("%d %d %d",&year,&month,&day);

    // Change array_month
    if(IsPrime(year))
    {
        for(int i=0;i<12;i++)
        {
            array_month[i] = PrimeMonth[i];
        }
    }
    else
    {
        for(int i=0;i<12;i++)
        {
            array_month[i] = NotPrimeMonth[i];
        }
    }

    // Judge whether day&month is 1 or not
    if(day==1&&month==1)
    {
        year = year - 1;
        month = 12;
        // Change array_month again
        if(IsPrime(year))
        {
            for(int i=0;i<12;i++)
            {
                array_month[i] = PrimeMonth[i];
            }
        }
        else
        {
            for(int i=0;i<12;i++)
            {
                array_month[i] = NotPrimeMonth[i];
            }
        }
        day = array_month[11];

        // Print and exit.
        printf("%d %d %d",year,month,day);
        return 0;
    }

    // Judge whether day(only) is 1 or not
    if(day==1)
    {
        month = month -1;
        day = array_month[month-1];
        // Print and exit.
        printf("%d %d %d",year,month,day);
        return 0;
    }

    // In common situation
    day = day -1;
    // Print and exit.
    printf("%d %d %d",year,month,day);
    return 0;
}
```

#### 3.计算泰勒级数

​	这个题目比较简单，要点是建立一个阶乘函数，然后读入math.h中的Pow函数计算平方，然后返回响应的数字的阶乘（double），然后每次级数变号、判断级数大小。

​	但是学校系统可能不允许外部函数直接计算，故改了一下函数放main()里面行了，下面直接上accepted的源代码：

```c
#include "stdio.h"
#include "math.h"

double Factorial(int n)
{
    double result = 1;
    for(int i=1;i<=n;i++)
    {
        result = result*i;
    }
    return result;
}


void Taylor(int x)
{
    int key = 1;
    double a,b;
    double accumulate;
    double result = x;
    for(int i=3;i<1000;i = i+2)
    {
        key++;
        a = pow(x,i);
        b = Factorial(i);
        accumulate = a/b;
        if(key%2==0)
        {
            accumulate = accumulate*(-1);
        }

        if(fabs(accumulate)<pow(10,-5))
        {
            printf("%.3f",result);
            printf("\n");
            printf("%d",key);
            return;
        }
        result = result + accumulate;
    }
}

int main()
{
    int input_num;
    scanf("%d",&input_num);
    // Taylor(3); // Also use it .So Stupid system!

    int x = input_num;
    int key = 1;
    double a,b;
    double accumulate;
    double result = x;
    for(int i=3;i<1000;i = i+2)
    {
        key++;
        a = pow(x,i);
        b = Factorial(i);
        accumulate = a/b;
        if(key%2==0)
        {
            accumulate = accumulate*(-1);
        }

        if(fabs(accumulate)<pow(10,-5))
        {
            printf("%.3f",result);
            printf("\n");
            printf("%d",key);
            i=1000;
        }
        result = result + accumulate;
    }
}
```

#### 4.输入数，写出其英文

​	白痴题目，就是打得麻烦点，要点是将-放在后面的print中，还有num小于20和num大于等于20是两种不同情况。

源代码：

```c
#include "stdio.h"
#include "math.h"

int main() {
    int numbers;
    scanf("%d", &numbers);
    // Numbers < 20
    if (numbers <= 20) {
        switch (numbers) {
            case 0:
                printf("Zero");
                break;
            case 1:
                printf("One");
                break;
            case 2:
                printf("Two");
                break;
            case 3:
                printf("Three");
                break;
            case 4:
                printf("Four");
                break;
            case 5:
                printf("Five");
                break;
            case 6:
                printf("Six");
                break;
            case 7:
                printf("Seven");
                break;
            case 8:
                printf("Eight");
                break;
            case 9:
                printf("Nine");
                break;
            case 10:
                printf("Ten");
                break;
            case 11:
                printf("Eleven");
                break;
            case 12:
                printf("Twelve");
                break;
            case 13:
                printf("Thirteen");
                break;
            case 14:
                printf("Fourteen");
                break;
            case 15:
                printf("Fifteen");
                break;
            case 16:
                printf("Sixteen");
                break;
            case 17:
                printf("Seventeen");
                break;
            case 18:
                printf("Eighteen");
                break;
            case 19:
                printf("Nineteen");
                break;
            case 20:
                printf("Twenty");
                break;
        }
    }
    if(numbers>20)
    {
    // Numbers>20
    switch (numbers / 10) {
        case 2:
            printf("Twenty");
            break;
        case 3:
            printf("Thirty");
            break;
        case 4:
            printf("Forty");
            break;
        case 5:
            printf("Fifty");
            break;
        case 6:
            printf("Sixty");
            break;
        case 7:
            printf("Seventy");
            break;
        case 8:
            printf("Eithty");
            break;
        case 9:
            printf("Ninety");
            break;
    }
    switch (numbers % 10) {
        case 1:
            printf("-one");
            break;
        case 2:
            printf("-two");
            break;
        case 3:
            printf("-three");
            break;
        case 4:
            printf("-four");
            break;
        case 5:
            printf("-five");
            break;
        case 6:
            printf("-six");
            break;
        case 7:
            printf("-seven");
            break;
        case 8:
            printf("-eight");
            break;
        case 9:
            printf("-nine");
            break;
        }
    }
}
```

#### 5.判断两个正整数集合的关系

​	这个题目是这几个题目较为复杂的，要点是先将所有输入排序（我用的是冒泡法），从小到大，然后分两种情况解题：两个集合长度相等，和长度不等。然后构造一个IsInclude函数，使用循环检测是否数字在另一个集合中，如果不在就直接输出'!='，然后分几种情况判断即可。有时间再补充这题的具体思路，先直接贴上源代码。

```c
#include "stdio.h"
#include "math.h"

int IsInclude(int num,int array[],int n)
{
    int i;
    for(i = 0;i<n;i++)
    {
        if(array[i]==num)
        {
            return 1;
        }
    }
    return 0;
}

void bubble_sort(int array_input[], int n)
{
    int i,j,temp;

    // Traverse every elements in array_input[].
    for (i = 0; i < n-1; i++)
    {
        // Traverse the rest of array_input[].
        for(j = 0; j < n-1-i; j++)
        {
            // Exhange the bigger one to the smaller one.
            if(array_input[j] > array_input[j+1])
            {
                temp = array_input[j];
                array_input[j] = array_input[j+1];
                array_input[j+1] = temp;
            }

        }

    }
    return;
}

int main() {
    int i,j;
    int length;
    int array_one[100]={0};
    int array_two[100]={0};
    int length_one = 0;
    int length_two = 0;

    for(i = 0;i<10;i++)
    {
        scanf("%d",&array_one[i]);
        if(array_one[i]<0)break;
        length_one = i+1;
    }

    for(i = 0;i<10;i++)
    {
        scanf("%d",&array_two[i]);
        if(array_two[i]<0)break;
        length_two = i+1;
    }

    bubble_sort(array_one,length_one);
    bubble_sort(array_two,length_two);

    // length_one==length_two
    if(length_one==length_two)
    {
        for(j=0;j<length_one;j++)
        {
            if(array_one[j]!=array_two[j])
            {
                printf("!=");
                return 0;
            }
        }
        printf("==");
    }

    // length_one != length_two
    int key_a=1,key_b=1,key_c=1;
    for(j=0;j<length_two&&key_a;j++)
    {
        if(!(IsInclude(array_two[j],array_one,length_one)))
        {
            key_a = 0;
        }

    }
    for(j=0;j<length_one&&key_b;j++)
    {

        if(!(IsInclude(array_one[j],array_two,length_one)))
        {
           key_b = 0;
        }

    }

    // Printf result
    if(key_a&&key_b){key_c=0;}

    if(!key_a){printf("<");
        return 0;}

    if(!key_b){printf(">");
        return 0;}

    if(key_c){printf("!=");}

}
```

